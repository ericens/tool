
1. 配置好节点数，广播消息，接受消息，如超过半数同意，则选择成功！
   1. zk
2. 通过在zk的建立临时节点，谁创建成功，谁是leader,
   1. kafka的partition

3. redis-cluster的主从，
http://redisdoc.com/topic/cluster-spec.html#id8
   1. 节点间2-2连接，超过半数的节点检测失效，才失效。
   2. 当主挂了，从自动提升slave 为master.
   3. 当主恢复后，自动成为save
   4. 
